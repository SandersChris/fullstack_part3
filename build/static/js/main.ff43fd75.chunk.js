(window.webpackJsonpthe_phone_book=window.webpackJsonpthe_phone_book||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),u=n(14),l=n(2),i=function(e){var t=e.persons,n=e.onClick;return t.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("p",null,e.name," ",e.number),a.a.createElement("button",{value:e.id,onClick:n},"Delete"))})},d=function(e){var t=e.handleNameAdd,n=e.newName,r=e.newNumber,o=e.handleNumberAdd,c=e.addPerson;return a.a.createElement("form",{onSubmit:c},a.a.createElement("div",null,a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:n,onChange:t})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:r,onChange:o}))),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},m=function(e){var t=e.heading;return a.a.createElement("h2",null,t)},s=function(e){var t=e.handleFilterAdd;return a.a.createElement("div",null,"Filter results: ",a.a.createElement("input",{onChange:t}))},f=n(3),b=n.n(f),p="api/persons",h=function(){return b.a.get(p)},g=function(e){return b.a.post(p,e)},v=function(e){return b.a.delete("".concat(p,"/").concat(e))},E=function(e,t){return b.a.put("".concat(p,"/").concat(e),t)},O=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t)},y=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{style:{color:"green",background:"grey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t)};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var j=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),f=Object(l.a)(c,2),b=f[0],p=f[1],j=Object(r.useState)(""),S=Object(l.a)(j,2),k=S[0],P=S[1],C=Object(r.useState)(""),A=Object(l.a)(C,2),N=A[0],D=A[1],B=Object(r.useState)(null),_=Object(l.a)(B,2),F=_[0],T=_[1],z=Object(r.useState)(null),J=Object(l.a)(z,2),L=J[0],R=J[1],x=function(e){window.confirm("Are you sure you want to delete this contact?")&&v(e.target.value).catch(function(e){R("Contact has already been removed."),setTimeout(function(){R(null)},5e3)})};Object(r.useEffect)(function(){h().then(function(e){return o(e.data)})},[x]);var I=function(){return n.filter(function(e){return e.name.toLowerCase().includes(N.toLowerCase())})};return a.a.createElement("div",null,a.a.createElement(m,{heading:"PhoneBook"}),a.a.createElement(s,{handleFilterAdd:function(e){return D(e.target.value)}}),a.a.createElement(m,{heading:"Add Contact"}),a.a.createElement(y,{message:F}),a.a.createElement(d,{addPerson:function(e){e.preventDefault();var t={name:b,number:k};if(n.map(function(e){return e.name}).includes(b)){if(window.confirm("Are you sure you want to change this contact's number?")){var r=n.find(function(e){return e.name===b}),a=r.id,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r,{number:k});E(a,c).then(function(e){o(n.map(function(t){return t.id!==a?t:e.data}))}).catch(function(e){R("".concat(k," has been removed from the server!")),setTimeout(function(){R(null)},5e3)})}}else g(t).then(function(e){o(n.concat(e.data)),p(""),P(""),T("".concat(b," added!")),setTimeout(function(){T(null)},5e3)}).catch(function(e){return console.log(e)})},newName:b,newNumber:k,handleNumberAdd:function(e){return P(e.target.value)},handleNameAdd:function(e){return p(e.target.value)}}),a.a.createElement(m,{heading:"Number"}),a.a.createElement(O,{message:L}),a.a.createElement(i,{persons:I(),numbers:I(),onClick:x}))};c.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ff43fd75.chunk.js.map